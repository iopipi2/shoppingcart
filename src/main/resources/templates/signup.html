<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script th:src="@{https://kit.fontawesome.com/64d58efce2.js}"
            crossorigin="anonymous"></script>
    <link rel="stylesheet" th:href="@{/css/register.css}">
    <title>Sign in & Sign up Form</title>


</head>
<body>
<form th:action="@{/sign-up}" class="sign-up-form" method = "post" name="RegForm" style="width=800px;" onsubmit="checkSignup()">
    <div id="login-box">
        <div class="left">
            <h1>Sign up</h1>
            <input type="text" name="name"  placeholder="Fullname" required/>
            <input type="text" name="username" placeholder="Username" required/>

            <input type="password" name="password" placeholder="Password" required/>
            <div><span id="UniqueID" style="margin-left:-100px"></span></div>
            <input type="password"    placeholder="Retype password" name="repassword" id="retypePassword" required />
            <input type="submit" name="signup_submit" value="Sign me up" />
        </div>
            <span th:utext="${successMessage}"></span>
        <div class="right">
            <span class="loginwith">Sign in with<br />social network</span>

            <button class="social-signin facebook">Log in with facebook</button>
            <button class="social-signin twitter">Log in with Twitter</button>
            <button class="social-signin google">Log in with Google+</button>
        </div>
        <div class="or">OR</div>
    </div>
</form>
<!--<div class="container">-->
<!--    <script src="https://www.google.com/recaptcha/api.js"></script>-->
<!--    <div class="forms-container">-->
<!--        <div class="signin-signup">-->
<!--            <form th:action="@{/sign-up}" class="sign-up-form" method = "post" name="RegForm" style="width=800px;" onsubmit="checkSignup()" >-->
<!--                <h2 class="title" style="margin-left: 130px">Đăng ký</h2>-->
<!--                <div class="input-field">-->
<!--                    <i class="fas fa-account"></i> <input type="text"-->
<!--                                                          placeholder="Fullname" name = "name" id="name" required/>-->
<!--                </div>-->
<!--                <div class="input-field">-->
<!--                    <i class="fas fa-envelope"></i> <input type="Email"-->
<!--                                                           placeholder="Email" name = "username" id="username" required/>-->
<!--                </div>-->
<!--                <div>-->
<!--                    <span class="alert alert-danger" th:utext="${successMessage}"></span>-->
<!--                    &lt;!&ndash;                    <div class="alert alert-success alert-dismissible col-sm-12" th:if="${bindingResult !=null && bindingResult.getAllErrors() !=null}">&ndash;&gt;-->
<!--                    &lt;!&ndash;                        <ul th:each="data :${bindingResult.getAllErrors()}">&ndash;&gt;-->
<!--                    &lt;!&ndash;                            <li th:text="${data.getObjectName()+ ' :: ' +data.getDefaultMessage()}"></li>&ndash;&gt;-->
<!--                    &lt;!&ndash;                        </ul>&ndash;&gt;-->

<!--                    &lt;!&ndash;                    </div>&ndash;&gt;-->
<!--                </div>-->
<!--                <div class="input-field">-->
<!--                    <i class="fas fa-lock"></i> <input type="password"-->
<!--                                                       placeholder="Password" name="password" id="password" required onkeyup="validatePassword(this.value);"/>-->
<!--                </div>-->
<!--                <div><span id="UniqueID" style="margin-left:-100px"></span></div>-->
<!--                <div class="input-field">-->
<!--                    <i class="fas fa-lock"></i> <input type="password"-->
<!--                                                       placeholder="Retype password" name="repassword" id="retype" required/>-->
<!--                </div>-->
<!--                <button type="submit" class="btn"  style="margin-left:110px">Sign up</button>-->
<!--                <p class="py-2">Already have an account?<a th:href="@{/cai-nay-thu}">Sign-In</a></p>-->
<!--            </form>-->
<!--        </div>-->
<!--    </div>-->

<!--</div>-->
<script type="text/javascript" th:src="@{/js/app.js}"></script>

<script>
        function onSubmit(token){
            document.getElementById("loginForm").submit();
        }
        function checkSignup(){
                var name =document.getElementById("name").value;
                var password =
                    document.getElementById("password").value;
                var repassword=document.getElementById("retypePassword").value;
                var regName = /\d+$/g;                                    // Javascript reGex for Name validation
                if (name == "" || regName.test(name)) {
                    alert("Please enter your name properly.");
                    name.focus();
                    return false;
                }
                if (password == "") {
                    alert("Please enter your password");
                    password.focus();
                    return false;
                }
                if(password.length <6){
                    alert("Password should be atleast 6 character long");
                    password.focus();
                    return false;
                }
                if (password != repassword) {
                     alert("You Confirm Passwords is not similar with Password. Please enter same password in both");
                     return false;
                }
                alert("Sign up successfull!");
                return true;

            }
        function validatePassword(password) {
  // It will not show anything when the length of password will be zero.
  if (password.length === 0) {
  document.getElementById("UniqueID").innerHTML = "";
  return;
  }
  // Creation of new array and push all possible values in password
  var T4Tutorials = new Array();
  T4Tutorials.push("[$@$!%*#?&]"); // Special Charector
  T4Tutorials.push("[A-Z]");      // Uppercase Alpabates
  T4Tutorials.push("[0-9]");      // Numbers
  T4Tutorials.push("[a-z]");     // Lowercase Alphabates
  var ctr = 0;
  for (var i = 0; i < T4Tutorials.length; i++) {
  if (new RegExp(T4Tutorials[i]).test(password)) {
  ctr++;
  }
  }
  // Display it
  var color = "";
  var strength = "";
  switch (ctr) {
  case 0:
  case 1:
  case 2:
  strength = "Very Weak in length";
  color = "red";
  break;
  case 3:
  strength = "Medium";
  color = "pink";
  break;
  case 4:
  strength = "Strong";
  color = "green";
  break;
  }
  document.getElementById("UniqueID").innerHTML = strength;
  document.getElementById("UniqueID").style.color = color;
  }
</script>

</body>
</html>
